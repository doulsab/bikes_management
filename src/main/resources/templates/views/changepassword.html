<!DOCTYPE html>
<html lang="en-US" xmlns:th="http://www.thymeleaf.org" class="no-js">

<head>
<!-- META DATA -->
<meta http-equiv="content-type" content="text/html;charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" type="image/x-icon" th:href="@{/images/favicon.ico}">
<meta name="author" content="">
<title>Password Reset</title>
<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
<link th:href="@{/css/styles.css}" rel="stylesheet">
<link th:href="@{/css/fonts.googleapis.css}" rel="stylesheet">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body ng-app="myApp" ng-controller="passwordResetCtrl">

	<section>
		<div class="container" ng-cloak>
			<div class="row justify-content-center align-items-center">
				<div class="col-md-6 border border-info">
					<div class="col-md-12 mt-3">
						<h4>Change Password...</h4>
						<div class="alert alert-success" role="alert"
							ng-if="successMessage">{{ successMessage }}</div>
						<div class="alert alert-danger" role="alert" ng-if="errorMessage">{{
							errorMessage }}</div>

						<!-- New Password Input -->
						<div class="form-group">
							<div class="input-group">
								<input type="{{showNewPassword ? 'text' : 'password'}}"
									placeholder="Enter new password" class="form-control"
									ng-model="newPassword"
									ng-class="{'border border-danger': invalidPassword}" required />
								<div class="input-group-append">
									<span class="input-group-text" ng-click="toggleNewPassword()">
										<i class="fa"
										ng-class="{'fa-eye': !showNewPassword, 'fa-eye-slash': showNewPassword}"></i>
									</span>
								</div>
							</div>
						</div>

						<!-- Confirm Password Input -->
						<div class="form-group">
							<div class="input-group">
								<input type="{{showConfirmPassword ? 'text' : 'password'}}"
									placeholder="Confirm new password" class="form-control"
									ng-model="confirmPassword"
									ng-class="{'border border-danger': passwordsMismatch}" required />
								<div class="input-group-append">
									<span class="input-group-text"
										ng-click="toggleConfirmPassword()"> <i class="fa"
										ng-class="{'fa-eye': !showConfirmPassword, 'fa-eye-slash': showConfirmPassword}"></i>
									</span>
								</div>
							</div>
						</div>

						<div class="container text-center">
							<button type="submit" class="btn btn-success"
								ng-click="updatePassword()">Update Password</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- JavaScript dependencies -->
	<script th:src="@{/js/jquery-3.6.0.min.js}"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
	<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
	<script th:src="@{/js/angular.min.js}"></script>
	<script th:src="@{/app/app.js}"></script>
	<script th:src="@{/app/login.js}"></script>
</body>

</html>
